# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# WORKFLOW: Manual Trigger BÃ¡sico
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# DescripciÃ³n: Workflow bÃ¡sico con ejecuciÃ³n manual on-demand
# Caso de uso: Testing, debugging, ejecuciones puntuales
# Requisitos: Elastic 9.3+
# Autor: IvÃ¡n FrÃ­as Molina - Founder Byviz Analytics & Consulting Architect Elastic
# URL: https://byviz.ai/workflows
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

name: manual-trigger-basico
description: |
  Workflow de ejemplo con trigger manual.
  Perfecto para aprender la estructura bÃ¡sica y probar funcionalidad.
  
  Este workflow:
  1. Se ejecuta manualmente desde Kibana
  2. Busca documentos en un Ã­ndice
  3. Muestra el resultado en consola
  
enabled: true
tags: ["basico", "manual", "tutorial"]

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# TRIGGERS
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Manual: Se ejecuta on-demand desde Kibana UI
# Ideal para testing y debugging
triggers:
  - type: manual

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# STEPS
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
steps:
  # Step 1: BÃºsqueda simple en Elasticsearch
  - name: buscar_documentos
    type: elasticsearch.search
    with:
      # Ãndice a buscar (ajusta segÃºn tu entorno)
      index: "logs-*"
      
      # Query: match_all para obtener todos los documentos
      query:
        match_all: {}
      
      # Limitar resultados
      size: 10
      

  # Step 2: Mostrar resultado en consola
  - name: mostrar_resultado
    type: console
    with:
      message: |
        âœ… Workflow ejecutado correctamente
        
        ğŸ“Š Resultados de bÃºsqueda:
        - Total encontrados: {{steps.buscar_documentos.output.hits.total.value}}
        - Tiempo de bÃºsqueda: {{steps.buscar_documentos.output.took}}ms
        
        ğŸ’¡ Revisa el historial de ejecuciÃ³n en Kibana para ver detalles completos

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# CÃ“MO USAR ESTE WORKFLOW
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 1. Copia este YAML en Kibana â†’ Stack Management â†’ Workflows
# 2. Clic en "Create workflow"
# 3. Ajusta el Ã­ndice segÃºn tu entorno (line 43)
# 4. Guarda el workflow
# 5. Clic en "Execute" para ejecutar manualmente
# 6. Revisa el output en el historial de ejecuciones
#
# ğŸ“ NOTAS:
# - AsegÃºrate de que el Ã­ndice existe en tu cluster
# - El output se puede ver en: Management â†’ Workflows â†’ Execution history
# - Usa este workflow como base para tus propias automatizaciones
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

