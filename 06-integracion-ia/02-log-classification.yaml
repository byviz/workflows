# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# WORKFLOW: ClasificaciÃ³n Inteligente de Logs
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
name: log-classification-ai
description: Clasifica logs automÃ¡ticamente usando IA
enabled: true
tags: ["ia", "clasificacion", "nlp"]

triggers:
  - type: manual

steps:
  - name: obtener_logs_sin_clasificar
    type: elasticsearch.search
    with:
      index: "logs-*"
      query:
        bool:
          must_not:
            - exists:
                field: "log.category"
          filter:
            - range:
                "@timestamp":
                  gte: "now-1h"
      size: 50
  
  - name: clasificar_con_ia
    type: console
    with:
      message: |
        ğŸ¤– CLASIFICACIÃ“N CON IA (simulado)
        
        Logs sin clasificar: {{steps.obtener_logs_sin_clasificar.output.hits.total.value}}
        
        El agente IA clasificarÃ­a cada log en:
        - CategorÃ­a (error_type, warning_type, info_type)
        - Severidad (critical, high, medium, low)
        - Servicio afectado
        - AcciÃ³n recomendada (investigate, monitor, ignore)
        - Tags relevantes
        
        Luego actualizarÃ­a cada documento con la clasificaciÃ³n.

